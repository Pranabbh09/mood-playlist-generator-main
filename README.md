# 🎵 Mood Playlist Generator

An intelligent web application that analyzes the mood of a given song and generates a curated playlist of similar-vibe tracks from YouTube. Powered by LangGraph for complex reasoning, Groq for ultra-fast LLM inference, and a FastAPI/SQLAlchemy backend for data persistence.



## ✨ Core Features

-   **Dynamic UI**: An interactive and user-friendly frontend built with **Streamlit**.
-   **Advanced Mood Analysis**: Uses **LangGraph** to create a multi-step agent that fetches lyrics, analyzes mood and genre, and reasons about the song's characteristics.
-   **Blazing-Fast Inference**: Leverages the **Groq API** for near-instantaneous LLM responses, providing a smooth user experience.
-   **YouTube Playlist Generation**: Searches YouTube for relevant tracks that match the identified mood of the input song.
-   **Persistent Storage**: A robust **FastAPI** backend with an **SQLAlchemy** (SQLite) database to store and retrieve generated song data.
-   **Live API Status**: A handy sidebar checks the configuration and availability of required APIs and the backend server in real-time.

## 🛠️ Tech Stack

**Frontend:**
-   Streamlit

**Backend:**
-   FastAPI
-   Uvicorn

**AI/ML:**
-   LangChain & LangGraph
-   LangChain-Groq (for Llama 3)
-   PyTorch

**Database:**
-   SQLAlchemy

**External APIs:**
-   LyricsGenius
-   YouTube Search

## 🏛️ Architecture

The application is composed of two main services that run independently:

1.  **Streamlit Frontend (`app.py`)**: The client-facing application where the user interacts. It captures the input song, communicates with the LangGraph agent for processing, displays the results, and sends the final data to the FastAPI backend for storage.

2.  **FastAPI Backend (`main.py`)**: A simple REST API that provides endpoints for CRUD operations on the song database. It's responsible for persisting the playlists generated by the user.

The data flow is as follows:

```
User Input (Song)
      │
      ▼
Streamlit UI (`app.py`)
      │
      ▼
LangGraph Agent (`graph.py`) ───► (Groq, LyricsGenius, YouTube APIs)
      │
      ▼
Playlist Displayed on UI
      │
      ▼
POST Request to FastAPI (`main.py`)
      │
      ▼
SQLite Database (`songs.db`)
```

## 🚀 Getting Started

Follow these instructions to get the project running on your local machine.

### Prerequisites

-   Python 3.9+
-   API Keys for:
    -   **Groq:** Get your key from [Groq Console](https://console.groq.com/keys)
    -   **LyricsGenius:** Get your token from [Genius API Clients](http://genius.com/api-clients)

## 🏃‍♂️ Running the Application

You need to run the backend server and the frontend application in **two separate terminals**.

### Terminal 1: Start the FastAPI Backend

The backend server handles database interactions.

```bash
uvicorn main:app --reload --port 8000
```
The API will be running at `http://127.0.0.1:8000`.

### Terminal 2: Run the Streamlit Frontend

The frontend is the user interface you'll interact with.

```bash
streamlit run app.py
```
Your web browser should automatically open to the application. If not, navigate to the local URL displayed in your terminal (usually `http://localhost:8501`).

You can now enter a song title and generate your first mood-based playlist!
